# 함수형 자바스크립트 | 유인동

순수함수
- 들어온 인자가 같으면 동일한 리턴값을 반환
- 외부에 영향을 미치는 부수효과가 없다
- 평가 시점이 중요하지 않다

일급함수
- 함수를 변수의 값, 함수의 리턴값, 함수의 인자

함수형 프로그래밍
순수함수 + 일급함수  

사이드 이펙트 최소, 모듈화(생산성), 순수 함수(오류를 줄이고 안정성을 높인다)

함수형 프로그래밍은 애플리케이션, 함수의 구성요소, 더 나아가서 언어 자체를 함수처럼 여기도록 만들고, 이러한 함수 개념을 가장 우선순위에 놓는다
함수형 사고방식은 문제의 해결 방법을 동사(함수)들로 구성(조합)하는 것
마이클 포거스 함수형 자바스크립트의 저자


함수가 먼저 나오면 함수형 프로그래밍, 객체가 먼저 나오면 객체형 프로그래밍


- 응용형 함수: 함수가 함수를 인자(고차함수)로 받아서 원하는 시점에 평가하며, 로직을 완성
- 고차함수는 함수를 인자, 리턴값, 인자로 받은 함수를 실행하는 함수

- 중복 제거나 추상화 할때 함수를 사용하자
- 추상화의 단위로 객체, 메서드, 클래스가 아닌 함수를 사용하여 프로그래밍



- - - - - - 
`Array.prototype.map`, `Array.prototype.filter` 는 메서드이다. 순수함수가 아니기 떄문에 객체의 상태에 따라 결과가 달라질 수 있다

메서드는 객체지향 프로그래밍이다
메서드는 해당 클래스에 정의 되어 있기 때문에 클래스의 인스턴스에서만 사용할 수 있다
즉 클래스에 정의되지 않은 메서드는 사용하기 어렵다 (다형성 부족)
ex) 배열이 아니면 사용할 수 없다

함수형 프로그래밍은 함수를 먼저 만들고 그 함수에 맞는 데이터를 구성하여 함수를 실행
순수함수가 메서드 보다 다형성, 실용성이 더 높다

데이터가 먼저 있는지, 함수가 먼저 있는지

predicate, iterator, mapper
함수형 프로그래밍에서는 두 번 인자인, 콜백함수의 역할에 따라 정확한 이름을 갖는게 중요하다 (내부 다형성)


- - - - - - 

커리는 함수와 인자를 다루는 기법
함수에 인자를 하나씩 적용하다가 필요한 인자가 모두 채워지면 함수 본체를 실행하는 기법

- - - - - -

### _each의 외부 다형성 높이기
* `_each`에 `null` 넣어도 에러 안나게
* `_keys` 만들기
* `_keys`에서도 `_is_object`인지 검사하며 `null` 에러 안나게
* `_each` 외부 다형성 높이기

- - - - - -

### 컬렉션 중심 프로그래밍의 4가지 유형과 함수
* 수집하기 - map, values, pluck 등
* 거르기 - filter, reject, compact, without 등
* 찾아내기 - find, some, every 등
* 접기 - reduce, min, max, group_by, count_by

평가 순서와 상관없이
`_min_by`, `_max_by` 는 어떤 조건을 통해서 비교를 할 것 인지 iterator(보조함수)를 받는다

- - - - - -

### 4. 자바스크립트에서의 지연 평가
* 지연 평가를 시작 시키고 유지 시키는(이어 가는) 함수
  * map
  * filter, reject
* 끝을 내는 함수
  * take
  * some, every, find

1. 함수를 되도록 **작게** 만들기
2. **다형성** 높은 함수 만들기
3. **상태**를 변경하지 않거나 **정확히** 다루어 **부수 효과를 최소화** 하기
4. 동일한 인자를 받으면 항상 동일한 결과를 리턴하는 **순수 함수** 만들기
5. 복잡한 객체 하나를 인자로 사용하기보다 되도록 **일반적인 값** 여러 개를 **인자**로 사용하기
6. 큰 **로직**을 **고차 함수**로 만들고 세부 로직을 **보조 함수**로 완성하기
7. 어느곳에서든 **바로 혹은 미뤄서 실행**할 수 있도록 일반 함수이자 순수 함수로 선언하기
8. 모델이나 컬렉션 등의 커스텀 객체보다는 **기본 객체**를 이용하기
9. 로직의 흐름을 최대한 **단방향으로 흐르게** 하기
10. 작은 함수를 **조합**하여 큰 함수 만들기